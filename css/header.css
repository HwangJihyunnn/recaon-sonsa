/* ======================== 1. 기본 헤더 및 GNB 설정 ======================== */
#header {
    position: fixed; /* 헤더를 화면 상단에 고정 (투명/블러 효과를 위해 자주 사용) */
    width: 100%;
    height: 80px; 
    z-index: 100;
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    padding: 0 30px; 
    box-sizing: border-box; 
    /* 블러 효과를 위한 배경 설정 (필수) */
    background-color: rgba(255, 255, 255, 0.1); /* 반투명 흰색 배경 */
    /* 투명 블러 효과 적용 (크롬, 사파리 등) */
    backdrop-filter: blur(5px); 
    /* 사파리 구형 버전 지원 */
    -webkit-backdrop-filter: blur(5px); 
    
    /* 배경/블러 효과 전환을 위한 transition (선택 사항) */
    transition: background-color 0.3s ease-in-out;
}

.logo {
    /* 로고 컨테이너의 크기를 제한 */
    height: 100%; /* 헤더 높이에 맞춤 */
    display: flex;
    align-items: center;
}

.logo img {
    /* 이미지 자체의 크기 조정 */
    height: 35px; /* 로고 이미지의 높이를 35px로 조정 (원하는 크기로 변경 가능) */
    width: auto;
}

.gnb {
    position: absolute;
    right: 0;
    top: 0;
    height: 100%;
}

.nav {
    display: flex;
    list-style: none;;
    height: 100%;
    margin: 0;
    padding: 0;
}

.nav > li {
    position: relative;
    padding: 0 20px;
    height: 100%;
    display: flex;
    align-items: center;
    /* 서브메뉴 li에 마우스 오버 시 z-index를 높여 배경 위에 보이게 함 */
    z-index: 101; 
}

/* ======================== 2. 서브메뉴 및 배경 설정 ======================== */

/* 서브메뉴 숨기기 */
.nav-sub {
    list-style: none;
    position: absolute;
    top: 80px; /* 헤더 높이 아래에 배치 */
    left: 50%;
    transform: translateX(-50%);
    width: max-content;
    padding: 10px 0;
    
    /* 초기에는 숨김 */
    opacity: 0; 
    visibility: hidden; 
    max-height: 0; /* 높이 0으로 설정하여 오버플로우 막기 */
    overflow: hidden;

    /* 부드러운 전환 효과 */
    transition: opacity 0.3s ease-in-out, visibility 0s 0.3s, max-height 0s 0.3s;
}

.nav-sub li a {
    display: block;
    padding: 5px 15px;
    text-decoration: none;
    color: #555;
    white-space: nowrap;
}

/* 마우스 오버 시 늘어날 배경 영역 */
.gnb-bg {
    position: absolute;
    top: 80px; /* 헤더 높이 아래에 배치 */
    left: 0;
    width: 100%;
    height: 0; /* 초기 높이 0 (숨김) */
    background-color: white;
    border-top: 1px solid #ccc; 
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    z-index: 99; /* 메인 메뉴(100)보다 낮고, 서브메뉴(101)보다 낮음 */
    
    /* 높이 애니메이션 설정 */
    transition: height 0.3s ease-in-out;
}

/* ======================== 3. JavaScript로 제어될 클래스 ======================== */

/* JS로 header에 .active 클래스 추가 시 */
#header.active .gnb-bg {
    /* 이 높이는 JS에서 계산하여 인라인 스타일 또는 변수로 설정하는 것이 가장 정확합니다. 
       일단 예시로 높이를 설정합니다. (JS에서 동적으로 설정할 것입니다) */
    /* height: 200px; */ 
}

/* header에 .active 클래스 추가 시 서브메뉴 보이기 */
#header.active .nav-sub {
    opacity: 1; 
    visibility: visible;
    max-height: 500px; /* 충분히 큰 값으로 설정하여 내용이 보이게 함 */
    /* max-height와 visibility 전환 시간 재설정 */
    transition: opacity 0.3s ease-in-out, visibility 0s 0s, max-height 0s 0s;
}